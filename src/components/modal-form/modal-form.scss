@use '../../styles/base/vars' as *;
@use '../../styles/base/mixins' as *;

.modal-form {
   width: 100%;
}

.modal-form__content {
   display: flex;
   flex-direction: column;
   align-items: center;
   text-align: center;
   gap: 20px;
}

.modal-form__title {
   font-family: var(--font-heading);
   font-weight: 700;
   font-size: 30px;
   line-height: 1.1;
   text-transform: uppercase;
   color: var(--color-accent);
   margin: 0;
   text-align: left;
   align-self: flex-start;
}

.modal-form__description {
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 16px;
   line-height: 1.3;
   color: var(--color-primary-text);
   margin: 0;
   align-self: flex-start;
   text-align: left;
}

.modal-form__form {
   width: 100%;
   display: flex;
   flex-direction: column;
   gap: 20px;
   text-align: left;
}

.modal-form__field {
   width: 100%;
   display: flex;
   flex-direction: column;
   align-items: flex-start;
   gap: 6px;

   &--file {
      gap: 2px;
   }
}

.modal-form__label {
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 12px;
   line-height: 1.2;
   color: var(--color-primary-text);
   margin: 0;
}

.modal-form__input,
.modal-form__textarea {
   width: 100%;
   padding: 10px 11px;
   border: 1px solid var(--color-secondary-gray);
   background: transparent;
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 12px;
   line-height: 1.2;
   color: var(--color-primary-text);
   transition: border-color 0.2s ease, background-color 0.2s ease;

   &::placeholder {
      color: var(--color-secondary-gray);
   }

   &:focus {
      outline: none;
      border-color: var(--color-accent);
   }

   &.modal-form__input--error,
   &.modal-form__textarea--error {
      border-color: var(--color-accent);
      background-color: #E8D1C8; // Светло-коричневый фон для ошибки
   }
}

.modal-form__input {
   height: 36px;
}

.modal-form__textarea {
   min-height: 88px;
   resize: vertical;
   font-family: var(--font-primary);
}

.modal-form__file-button {
   display: inline-flex;
   align-items: center;
   justify-content: center;
   padding: 6px 14px;
   height: 28px;
   background-color: var(--color-accent);
   border: none;
   cursor: pointer;
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 16px;
   line-height: 1.3;
   text-transform: uppercase;
   color: var(--color-primary-background2);
   transition: background-color 0.2s ease;

   &:hover {
      background-color: darken(#C75528, 10%);
   }

   &:focus {
      outline: 2px solid var(--color-accent);
      outline-offset: 2px;
   }
}

.modal-form__file-input {
   display: none;
}

.modal-form__file-hint {
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 12px;
   line-height: 1.2;
   color: var(--color-primary-text);
   margin-top: 2px;
}

.modal-form__error {
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 12px;
   line-height: 1.2;
   color: var(--color-accent);
   min-height: 14px;
   opacity: 0;
   transition: opacity 0.2s ease;

   &.modal-form__error--visible {
      opacity: 1;
   }
}

.modal-form__actions {
   width: 100%;
   display: flex;
   justify-content: center;
   margin-top: 10px;
}

.modal-form__submit {
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 0;
   height: 36px;
   background: none;
   border: 1px solid var(--color-accent);
   cursor: pointer;
   transition: all 0.2s ease;
   padding: 0;
   width: 308px;

   &:hover:not(:disabled) {
      background-color: var(--color-accent);

      .modal-form__submit-text {
         color: var(--color-primary-background2);
      }

      .modal-form__submit-icon {
         background-color: var(--color-primary-background2);

         svg {
            fill: var(--color-accent);
         }
      }
   }

   &:focus {
      outline: 2px solid var(--color-accent);
      outline-offset: 2px;
   }

   &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      border-color: var(--color-secondary-gray);

      .modal-form__submit-text {
         color: var(--color-secondary-gray);
      }

      .modal-form__submit-icon {
         background-color: var(--color-secondary-gray);

         svg {
            fill: var(--color-primary-background2);
         }
      }
   }
}

.modal-form__submit-text {
   flex: 1;
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 16px;
   line-height: 1.1;
   color: var(--color-accent);
   transition: color 0.2s ease;
}

.modal-form__submit-icon {
   width: 36px;
   height: 36px;
   background-color: var(--color-accent);
   display: flex;
   align-items: center;
   justify-content: center;
   transition: background-color 0.2s ease;

   svg {
      width: 21px;
      height: 22px;
      fill: var(--color-primary-background2);
      transition: fill 0.2s ease;
   }
}

.modal-form__agreement {
   font-family: var(--font-primary);
   font-weight: 400;
   font-size: 12px;
   line-height: 1.2;
   color: var(--color-secondary-gray);
   margin: 0;
   text-align: center;
   margin-top: 6px;
}

.modal-form__agreement-link {
   color: var(--color-secondary-gray);
   text-decoration: underline;

   &:hover {
      color: var(--color-accent);
   }
}

// Состояния с ошибками для кнопки отправки
.modal-form__submit--disabled {
   border-color: #B0B0B0;

   .modal-form__submit-text {
      color: #B0B0B0;
   }

   .modal-form__submit-icon {
      background-color: #B0B0B0;
   }
}

// Файлы, загруженные пользователем
.modal-form__file-list {
   display: flex;
   flex-direction: column;
   gap: 8px;
   margin-top: 8px;
}

.modal-form__file-item {
   display: flex;
   align-items: center;
   justify-content: space-between;
   padding: 8px;
   background-color: #F5F5F5;
   border-radius: 4px;
   font-family: var(--font-primary);
   font-size: 12px;
   color: var(--color-primary-text);
}

.modal-form__file-remove {
   background: none;
   border: none;
   color: var(--color-accent);
   cursor: pointer;
   font-size: 14px;
   padding: 4px;

   &:hover {
      color: darken(#C75528, 10%);
   }
}

// Адаптивность
@include lg-up {
   .modal-form__title {
      font-size: 30px;
   }

   .modal-form__description {
      font-size: 16px;
   }
}

// Переопределение базовых стилей модала для более высокого модала
.modal[data-modal="form"] {
   .modal__content {
      min-height: 620px;

      @include lg-up {
         width: 382px;
      }
   }

   .modal__body {
      min-height: 580px;
      align-items: flex-start;
      padding-top: 20px;
   }
}